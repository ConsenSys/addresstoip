<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>AddressToIP by ConsenSys</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">AddressToIP</h1>
      <h2 class="project-tagline">Ethereum contracts for mapping Ethereum addresses to IP addresses</h2>
      <a href="https://github.com/ConsenSys/addresstoip" class="btn">View on GitHub</a>
      <a href="https://github.com/ConsenSys/addresstoip/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/ConsenSys/addresstoip/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h2>
<a id="about" class="anchor" href="#about" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>About</h2>

<p>The AddressToIP contracts are a pair of Ethereum contracts that map Ethereum addresses to IP addresses. The transaction sender can set and delete his, and only his, IP address entry. The data is public, so that anyone can obtain an IP for an Ethereum address (assuming the mapping exists).</p>

<p>The IPv4 contract is at address <a href="https://etherchain.org/account/0xd21e907c322c69a9932135eeb1d52fe5b661179a">0xd21e907c322c69a9932135eeb1d52fe5b661179a</a> .</p>

<p>The IPv6 contract is at address <a href="https://etherchain.org/account/0x93a2863108236d86b3b02f851e0620af16d59568">0x93a2863108236d86b3b02f851e0620af16d59568</a> .</p>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features</h2>

<ul>
<li>IPv4 and IPv6 support</li>
<li>immortal (no one can delete the contract)</li>
<li>written in Solidity</li>
</ul>

<h2>
<a id="api-and-gas-estimate" class="anchor" href="#api-and-gas-estimate" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>API and gas estimate</h2>

<h3>
<a id="addresstoipv4" class="anchor" href="#addresstoipv4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>AddressToIPv4</h3>

<p><code>get_ip(address addr) returns (uint32)</code> (no gas)</p>

<ul>
<li>Gets an IP address for an Ethereum address. If the entry does not exist, returns 0.</li>
</ul>

<p><code>set_ip(uint32 ip)</code> (20,318 gas)</p>

<ul>
<li>Sets the sender's IP address to <code>ip</code>
</li>
</ul>

<p><code>delete_ip()</code> (20,295 gas)</p>

<ul>
<li>Deletes the sender's IP address</li>
</ul>

<h3>
<a id="addresstoipv6" class="anchor" href="#addresstoipv6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>AddressToIPv6</h3>

<p><code>get_ip(address addr) returns (uint128)</code> (no gas)</p>

<ul>
<li>Gets an IP address for an Ethereum address.  If the entry does not exist, returns 0.</li>
</ul>

<p><code>set_ip(uint128 ip)</code> (20,362 gas)</p>

<ul>
<li>Sets the sender's IP address to <code>ip</code>
</li>
</ul>

<p><code>delete_ip()</code> (20,273 gas)</p>

<ul>
<li>Deletes the sender's IP address</li>
</ul>

<h2>
<a id="source-code" class="anchor" href="#source-code" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Source code</h2>

<pre><code>contract AddressToIPv4 {

    mapping (address =&gt; uint32) ips;

    function AddressToIPv4() {
    }

    function set_ip(uint32 ip) {
        ips[msg.sender] = ip;
    }

    function delete_ip() {
        delete ips[msg.sender];
    }

    function get_ip(address addr) returns (uint32) {
        return ips[addr];
    }
}
</code></pre>

<pre><code>contract AddressToIPv6 {

    mapping (address =&gt; uint128) ips;

    function AddressToIPv6() {
    }

    function set_ip(uint128 ip) {
        ips[msg.sender] = ip;
    }

    function delete_ip() {
        delete ips[msg.sender];
    }

    function get_ip(address addr) returns (uint128) {
        return ips[addr];
    }
}
</code></pre>

<h2>
<a id="compiler-version" class="anchor" href="#compiler-version" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Compiler version</h2>

<p>0.1.6-0/Release-Linux/g++/int linked to libethereum-0.9.93-0/Release-Linux/g++/int</p>

<h2>
<a id="see-also" class="anchor" href="#see-also" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>See also</h2>

<ul>
<li>
<a href="http://consensys.github.io/addresstourl/">AddressToUrl</a> - mapping Ethereum addresses to URLs</li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/ConsenSys/addresstoip">AddressToIP</a> is maintained by <a href="https://github.com/ConsenSys">ConsenSys</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
